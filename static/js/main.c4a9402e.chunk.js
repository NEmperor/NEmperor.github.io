(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports={timername:"Timer_timername__3QH12",timer:"Timer_timer__2p0N2",time:"Timer_time__LFv_6",timer1:"Timer_timer1__1cv1r"}},178:function(e,t,a){e.exports=a(362)},183:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(28),s=a.n(i),c=(a(183),a(11)),o=a(12),l=a(16),u=a(14),d=a(15),m=a(172),p=a(58),h=a(19),b=a(35),f=a(17),y=(a(185),a(90)),v=a(98),E=function(e){return r.a.createElement(v.a,{animation:Object(y.a)({},e.animation,{ease:"easeOutQuint"}),style:e.style?e.style:null,className:e.className?e.className:null},e.children)},S={D:1,L:2,LC:3,LCO:4},g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){return!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"setActive",value:function(e){switch(e){case S.D:this.props.animation&&(this.props.animation.brightness=.6);break;case S.L:this.props.animation&&(this.props.animation.brightness=1);break;case S.LC:case S.LCO:this.handleClick=this.props.onClick,this.props.animation&&(this.props.animation.brightness=1);break;case 5:case 6:this.handleClick=function(){return!1},this.props.animation&&(this.props.animation.brightness=1)}}},{key:"render",value:function(){var e=this;this.setActive(this.props.active);var t="X"===this.props.card.slice(-1)?"back":this.props.card;return r.a.createElement("div",{id:"card"+this.props.index,style:{position:"absolute",zIndex:this.props.zIndex}},r.a.createElement(E,{animation:this.props.animation,style:function(){var t={position:"absolute"};return e.props.position&&(t.top=e.props.position.y+"px",t.left=e.props.position.x+"px"),e.props.size&&(t.height=1*e.props.size,t.width=.7*e.props.size),t}()},r.a.createElement("img",{onClick:this.handleClick("".concat(this.props.index)),alt:this.props.key,src:"cards/".concat(t,".svg"),style:{position:"absolute",width:"100%",height:"100%"}})))}}]),t}(r.a.Component);g.createComponents=function(e){return e.map(function(e,t){return e.map(function(e,t){return r.a.createElement(g,{active:e.active,onClick:e.onclick,key:e.key,index:e.key,seat:e.seat,animation:e.animation||"",card:e.card,size:e.size,position:e.position,zIndex:e.zIndex})})})},g.suits=["S","H","C","D"],window.__Card=g;var k=g;function O(e,t,a){var n=.18*e,r=n*(.22+.05*Math.floor((13-t)/a)),i=(e-(r*(t-1)+.7*n))/2;return Array(t).fill(0).map(function(e,t){return e+i+t*r})}var C=a(9),w=function(){function e(t){if(Object(c.a)(this,e),"string"===typeof t){var a=t[0].toUpperCase();this._sn=a,this._in=e.SNames.indexOf(a),this._en=e.ENames[this._in],this._cn=e.CNames[this._in]}else if("number"===typeof t){if(t>3)return!1;this._in=t,this._en=e.ENames[t],this._sn=e.SNames[t],this._cn=e.CNames[t]}}return Object(o.a)(e,[{key:"lshift",value:function(t){var a=[0,3,2,1,0,3,2,1],n=t%4;return this._in=a[a.indexOf(this._in)+n],this._en=e.ENames[this._in],this._sn=e.SNames[this._in],this._cn=e.CNames[this._in],this}},{key:"rshift",value:function(t){var a=t%4;return this._in=[0,1,2,3,0,1,2,3][this._in+a],this._en=e.ENames[this._in],this._sn=e.SNames[this._in],this._cn=e.CNames[this._in],this}},{key:"lsto",value:function(t){return null===t?0:("string"===typeof t&&(t=new e(t)),t.in>this._in?4-(t.in-this._in):this._in-t.in)}},{key:"valueOf",value:function(){return this._in}},{key:"toString",value:function(){return e.SNames[this._in-1]}},{key:"sn",get:function(){return this._sn}},{key:"en",get:function(){return this._en}},{key:"cn",get:function(){return this._cn}},{key:"in",get:function(){return this._in}}]),e}();w.SNames="NESW",w.ENames=["north","east","south","west"],w.CNames=["\u5317","\u4e1c","\u5357","\u897f"],w.getSNames=function(e){for(var t=0,a=["NESW","ESWN","SWNE","WNES"];t<a.length;t++){var n=a[t];if(n.slice(0,1)===e.toUpperCase())return n}};var j,N=w,X=Object(h.c)(j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).hideResult=function(){s.a.unmountComponentAtNode(document.querySelector("#result")),ge.nextGame()},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=ge.height,t=ge.result;return r.a.createElement("div",{className:"resultmask"},r.a.createElement("div",{className:"result"},r.a.createElement("img",{src:"cards/medal.svg",width:"20%"}),r.a.createElement("div",{style:{lineHeight:.12*e+"px"}},t),r.a.createElement("button",{onClick:this.hideResult},"\u4e0b\u4e00\u526f")))}}]),t}(r.a.Component))||j,x={W:["S5","S4","S3","S2","H5","H4","H3","D5","D4","D3","C5","C4","C3"],N:["S8","S7","S6","HA","HK","HQ","DA","DK","DQ","CA","CK","CQ","C2"],E:["SJ","ST","S9","HJ","HT","H9","DJ","DT","D9","D2","CJ","CT","C9"],S:["SA","SK","SQ","H8","H7","H6","H2","D8","D7","D6","C8","C7","C6"]};Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};var _,T,A,D,P,L,z,I,H,W,q,B,R,F,J,M,Q,K,U,V,G,$,Y,Z,ee,te,ae,ne,re,ie,se,ce,oe,le,ue,de,me,pe,he,be,fe=["E","S","W","N"],ye=[],ve=[],Ee=new(function(){function e(){var t=this;Object(c.a)(this,e),this.play=function(e){var a=e.card,n=e.seat;ye.push(a),ve.push(a),t.dealPlay(n,a)},this.dealPlay=function(e,a){x[e].remove(a),1===ve.length&&ge.openDummy("N",["S8","S7","S6","HA","HK","HQ","DA","DK","DQ","CA","CK","CQ","C2"]),4===ye.length&&(ye=[]);var n=t.nextPlayer(e),i=0===ye.length?"SHDC":ye[0][0];(t.rule(n,i),52===ve.length)&&(document.querySelector(".result")||s.a.render(r.a.createElement(X,null),document.querySelector("#result")))},this.nextPlayer=function(e){var t="";return 4!==ye.length&&(t=fe[(fe.indexOf(e)+1)%4]),t},this.rule=function(e,t){if(-1!=="SN".indexOf(e)){var a=ge.selectCards(e,t,[S.L]);if(0==a.length)a=ge.selectCards(e,"SHDC",[S.L]),ge.setCardsState(a,{active:S.LC,onclick:ge.play});else{ge.setCardsState(a,{active:S.LC,onclick:ge.play});var n=new RegExp(t,"g"),r="SHDC".replace(n,"");a=ge.selectCards(e,r,[S.L]),ge.setCardsState(a,{active:S.D,onclick:ge.play})}}else{var i=10;0===ye.length&&(i=1500),setTimeout(function(){ge.dplay(e,x[e][0])},i)}}}return Object(o.a)(e,[{key:"start",value:function(){console.log("start"),ge.dplay("W","S5")}}]),e}()),Se=(_=C.d.bound,T=C.d.bound,A=C.d.bound,D=C.d.bound,P=C.d.bound,L=C.d.bound,z=C.d.bound,I=C.d.bound,H=C.d.bound,W=C.d.bound,q=C.d.bound,B=C.d.bound,R=C.d.bound,F=C.d.bound,J=C.d.bound,M=C.d.bound,Q=C.d.bound,K=C.d.bound,U=C.d.bound,V=C.d.bound,G=C.d.bound,$=C.d.bound,Y=C.d.bound,Z=C.d.bound,ee=C.d.bound,te=C.d.bound,ae=C.d.bound,ne=function(){function e(){var t=this;Object(c.a)(this,e),this._tableId=null,this.width=window.innerWidth,this.height=window.innerHeight,this.board=[[]],this.seat={},this.zindex=10,this.myseat="S",this.deals="XXXX.XX.XXX.XXXX XXX.XX.XXXX.XXXX AKQ.8762.876.876 XXX.XX.XXXX.XXXX",Object(b.a)(this,"bidState",re,this),Object(b.a)(this,"state",ie,this),this.dummySeat="N",this.dealer="S",this.logicDealer="",this.sequence="",this.hcp=20,Object(b.a)(this,"InfoDrawer",se,this),Object(b.a)(this,"curCall",ce,this),Object(b.a)(this,"_result",oe,this),Object(b.a)(this,"history",le,this),Object(b.a)(this,"record",ue,this),Object(b.a)(this,"record_result",de,this),Object(b.a)(this,"_play",me,this),this.call=function(e){t.state.calldata=e},Object(b.a)(this,"recovery",pe,this),this.reConnect=function(){},this.nextGame=function(){},Object(b.a)(this,"showHistory",he,this),Object(b.a)(this,"hideHistory",be,this),this.state.user={E:{ready:1,name:"\u8d4c\u4fa0",face:"/imgs/face1.png",rank:"\u5927\u5e08",seat:"E"},S:{ready:0,name:"\u8d4c\u795e",face:"/imgs/face2.png",rank:"\u4e13\u5bb6",seat:"S"},W:{ready:1,name:"\u8d4c\u5723",face:"/imgs/face1.png",rank:"\u738b\u8005",seat:"W"},N:{ready:1,name:"\u8d4c\u738b",face:"/imgs/face2.png",rank:"\u94bb\u77f3",seat:"N"}},N.SNames.split("").forEach(function(e){return t.seat[e]=[{x:0,y:0},{x:0,y:0}]}),window.___tableStore=this,window.toJS=C.o}return Object(o.a)(e,[{key:"initState",value:function(){this.board=[[],[]],this.state.scene=0,this.state.calldata={first:"",call:[],note:null},this.state.claim={seat:"",msg:null},this.state.contract="",this.state.winEW="",this.state.winSN="",this.state.vulnerable="",this.dummySeat="",this.curCall=""}},{key:"initCards",value:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=k.suits.slice(0),r=e.split(" ");console.log(r);var i=0,s=[[],[],[],[]];r.forEach(function(e,r){e.split(".").forEach(function(e,c){for(var o=0;o<e.length;o++)s[r].push({onclick:function(){return!1},active:0,index:i,key:i,seat:N.SNames[r],size:t.csize,card:n[c]+e[o],position:{x:t.height/2,y:2*t.height},animation:a?{top:2*t.height,left:t.height/2,delay:0,duration:0}:{}}),i++})}),this.state.cards=s}},{key:"toggleBid",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.hideLastTrick(),this.bidState.showBid=!this.bidState.showBid,this.bidState.showBlock=e}},{key:"toggleInfo",value:function(){this.InfoDrawer=!this.InfoDrawer}},{key:"dealCards",value:function(){var e=this,t=this.state.cards,a=this.height>this.width?this.width:this.height,n=.7*this.csize/2;return t.forEach(function(r,i){var s=0,c=N.SNames[i],o=[e.seat[c][0].x,e.seat[c][0].y],l=o[0],u=o[1];-1!=="EW".indexOf(c)&&(s=-90),l+=a/16/5,u+=a/16/5,r.forEach(function(e,a){0===e.active&&(t[i][a].animation={top:u,left:l,delay:e.key%13*80,duration:300,rotate:s,transformOrigin:"".concat(n,"px ").concat(n,"px")},t[i][a].active=S.L)}),r=e.resetCards(r,c)}),this.state.cards=t,t}},{key:"play",value:function(e){return function(){var t=this.getCardByIndex(e);if(t.active===S.LC)this._preplay(t);else{if(t.active!==S.LCO)return;this._play(t)}}.bind(this)}},{key:"dplay",value:function(e,t){var a=this.state.cards,n=null;if(e===this.dummySeat){var r=!0,i=!1,s=void 0;try{for(var c,o=a[N.SNames.indexOf(e)][Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var l=c.value;if(l.card===t){n=l,this._play(n);break}}}catch(O){i=!0,s=O}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}}else{var u=!0,d=!1,m=void 0;try{for(var p,h=a[N.SNames.indexOf(e)][Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var b=p.value;if(b.card===t)return n=b,void this._play(n)}}catch(O){d=!0,m=O}finally{try{u||null==h.return||h.return()}finally{if(d)throw m}}var f=!0,y=!1,v=void 0;try{for(var E,g=a[N.SNames.indexOf(e)][Symbol.iterator]();!(f=(E=g.next()).done);f=!0){var k=E.value;if(k.active===S.L)return(n=k).card=t,void this._play(n)}}catch(O){y=!0,v=O}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}}},{key:"_preplay",value:function(e){switch(this.state.cards.forEach(function(e){return e.forEach(function(e){if(e.active===S.LCO)switch(e.active=S.LC,e.seat){case"E":e.animation.left+=20;break;case"S":e.animation.top+=20;break;case"W":e.animation.left-=20;break;case"N":e.animation.top-=20}})}),e.active=S.LCO,e.seat){case"E":e.animation.left-=20;break;case"S":e.animation.top-=20;break;case"W":e.animation.left+=20;break;case"N":e.animation.top+=20}e.animation.delay=0}},{key:"restore",value:function(e){this["restore"+e.scene](e)}},{key:"restore0",value:function(e){this.state.scene=e.scene,this.state.user=e.user}},{key:"restore1",value:function(e){this.restore0(e),this.state.cards=[],this.initCards(e.deals),this.dealCards(),this.curCall=e.curCall,this.state.contract=e.contract,this.state.calldata=e.calldata}},{key:"restore2",value:function(e){this.restore1(e),this.dummySeat=e.dummySeat,this.state.winEW=e.winEW,this.state.winSN=e.winSN,this.restore_2(e.userCards,e.board)}},{key:"restore3",value:function(e){this.restore2(e),this.state.claim=e.claim}},{key:"restore_2",value:function(e,t){var a=this,n="S"+this.dummySeat,r=this.state.cards;this.board=[[],[]];var i=0;e.forEach(function(e,t){if(-1!==n.indexOf(N.SNames[t]))r[t].forEach(function(t){window.___card=t,-1===e.indexOf(t.card)&&a._setCardACT3(t)});else{i=13-e.length;for(var s=0;s<i;s++)a._setCardACT3(r[t][s])}}),t[0].forEach(function(e){var t=N.SNames.indexOf(e.seat);if(-1===n.indexOf(e.seat))r[t][0].card=e.card,a._setCardACT2(r[t][0]);else{var i=!0,s=!1,c=void 0;try{for(var o,l=r[t][Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;if("X"===u.card.slice(-1)){u.card=e.card,a._setCardACT2(u);break}}}catch(d){s=!0,c=d}finally{try{i||null==l.return||l.return()}finally{if(s)throw c}}}},this),t[1].forEach(function(e,t){var i=N.SNames.indexOf(e.seat),s=6==r[i][1].active?1:0;if(-1===n.indexOf(e.seat))r[i][s].card=e.card,a.board[1].push(r[i][s]);else{var c=!0,o=!1,l=void 0;try{for(var u,d=r[i][Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var m=u.value;if("X"===m.card.slice(-1)){m.index=50+t,m.card=e.card,a._setCardACT3(m),a.board[1].push(m);break}}}catch(p){o=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(o)throw l}}}},this),N.SNames.split("").forEach(function(e,t){a.resetCards(a.state.cards[t],e)})}},{key:"_setCardACT3",value:function(e){e.animation.left=this.size/2,e.position.x=this.size/2,e.animation.top=2*-this.size,e.position.y=2*-this.size,e.animation.delay=0,e.active=6}},{key:"_setCardACT2",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.active=5,e.animation.left=this.seat[e.seat][1].x,e.animation.top=this.seat[e.seat][1].y,e.animation.delay=0,e.zIndex=this.zindex++,this.board[0].push(e),t?4===this.board[0].length&&setTimeout(this.clearBoard,1e3):(e.position.x=this.seat[e.seat][1].x,e.position.y=this.seat[e.seat][1].y,4===this.board[0].length&&this.clearBoard())}},{key:"clearBoard",value:function(){for(var e=this.board,t=0;t<e[0].length;t++)e[0][t].animation.left=this.size/2,e[0][t].animation.top=2*-this.size,e[0][t].active=6;e.unshift([]),this.state.cards=Object.assign([],this.state.cards)}},{key:"resetTable",value:function(){var e=this.selectCardsByAct([S.D,S.LC]);window.___cards1=e,this.setCardsState(e,{active:S.L})}},{key:"selectCardsByAct",value:function(e){var t=this.state.cards,a=[];return t.forEach(function(t){t.forEach(function(t){-1!==e.indexOf(t.active)&&a.push(t)})}),a}},{key:"selectCards",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0123456",n=this.state.cards,r=e.split(""),i=[];return r.forEach(function(e){var r=new N(e).in;n[r].forEach(function(e,n){-1!==t.indexOf(e.card.slice(0,1))&&-1!=a.indexOf(e.active)&&i.push(e)})}),i}},{key:"getCardByIndex",value:function(e){var t=e%13;return this.state.cards[Math.floor(e/13)][t]}},{key:"addClick2Cards",value:function(e,t,a){e.forEach(function(n,r){e[r].active=t,a&&(e[r].onclick=a)})}},{key:"setCardsState",value:function(e,t){e.forEach(function(e,a){console.log("card555:",e),Object.keys(t).forEach(function(a){e[a]=t[a]})})}},{key:"initSeat",value:function(e,t){this.center=e;var a=.7*this.csize/2;for(var n in this.seat)this.seat[n][0].y=t[n].y,this.seat[n][0].x=t[n].x,"E"===n?(this.seat[n][0].y=this.seat[n][0].y+.06*this.size,this.seat[n][1].y=e.y-a,this.seat[n][1].x=e.x-.8*a):"S"===n?(this.seat[n][0].x=this.seat[n][0].x,this.seat[n][1].y=e.y-.8*a,this.seat[n][1].x=e.x-a):"W"===n?(this.seat[n][0].y=this.seat[n][0].y+.06*this.size,this.seat[n][1].y=e.y-a,this.seat[n][1].x=e.x+.8*a-this.csize):"N"===n&&(this.seat[n][0].x=this.seat[n][0].x,this.seat[n][1].y=e.y+.8*a-this.csize,this.seat[n][1].x=e.x-a)}},{key:"resetCards",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1=="EW".indexOf(t)?"left":"top",r=0,i=0;e.forEach(function(e){e.active!==S.L&&e.active!==S.LC||r++});var s=O(this.size,r,2);return e.map(function(e,t){return e.active!==S.L&&e.active!==S.LC||(i=s.shift(),e.animation[n]=i,e.animation.duration=600,a&&(e.animation.delay=i)),e})}},{key:"suitLayoutCards",value:function(e,t){var a=e[0],n=0,r=0;e.map(function(e,t){e.card.slice(1,2)!=a.card.slice(1,2)?(n+=40,r=0,e.animation.top+=n):(e.animation.left+=r,e.animation.top+=n,r+=25),e.animation.rotate=0,a=e})}},{key:"claim",value:function(e,t){this.state.claim.msg=t,this.state.scene=3==this.state.scene?2:3}},{key:"getUnPlayCardNumber",value:function(){var e=this.selectCards("S","SHDC",[S.D,S.L,S.LC,S.LCO]).length;return this.state.unPlayCardNumber=e,e}},{key:"cardIndexOf",value:function(e){var t=Math.floor(e/13),a=e%13;return this.state.cards[t][a]}},{key:"toggleLastTrick",value:function(){this.showBid=!1,this._setShowLastTrick(!this.state.lastTrick)}},{key:"showLastTrick",value:function(){this._setShowLastTrick(!0)}},{key:"hideLastTrick",value:function(){this._setShowLastTrick(!1)}},{key:"_setShowLastTrick",value:function(e){var t=this,a=this.board[1];window.___board1=Object(C.o)(this.board);if(a&&e){this._showLastTrick(a);var n=setTimeout(function(){t._setShowLastTrick(!1),clearTimeout(n)},3e3)}if(a&&!e)for(var r=1;r<this.board.length;r++)this._hideLastTrick(this.board[r]);return this.state.lastTrick=e,this.state.cards}},{key:"_showLastTrick",value:function(e){var t=this;e.forEach(function(e,a){console.log(e),e.animation.left=t.seat[e.seat][1].x-t.size/2.9,e.animation.top=t.seat[e.seat][1].y-t.size/2.9,e.animation.zIndex=1e3,e.active=6})}},{key:"_hideLastTrick",value:function(e){var t=this;e.forEach(function(e,a){e.animation.left=t.size/2,e.animation.top=-t.size/2,e.active=6})}},{key:"openDummy",value:function(e,t){this.dummySeat||(this.dummySeat=e);var a=e,n=this.selectCards(a,"SHDC",[S.L]);t.forEach(function(e,t){n[t].card=e})}},{key:"setTricks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(this.state.winEW=e),t&&(this.state.winSN=t),a&&(this.state.contract=a)}},{key:"_swDC",value:function(e){var t;return t=e[2],e[2]=e[3],e[3]=t,e}},{key:"userReady",value:function(e){this.state.user[e].ready=1}},{key:"userAllReady",value:function(){var e=this.state.user,t=!0;return Object.values(e).forEach(function(e){0==e.ready&&(t=!1)}),t}},{key:"userLogin",value:function(e,t){this.state.user[e]=t}},{key:"tableId",set:function(e){this._tableId=e},get:function(){return this._tableId}},{key:"result",get:function(){return this._result?this._result:"N3D +2 NS 600"}},{key:"size",get:function(){return this.height>this.width?this.width:this.height}},{key:"csize",get:function(){var e=this;return this._csize||.18*e.size}}]),e}(),re=Object(f.a)(ne.prototype,"bidState",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{showBid:!1,showBlock:!1}}}),ie=Object(f.a)(ne.prototype,"state",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{cards:null,scene:0,calldata:{first:"W",call:[],note:null},user:{},claimAble:!1,lastTrick:!1,debug:!1,unPlayCardNumber:null,claim:{seat:"S",msg:null},contract:"",winEW:"",winSN:"",vulnerable:"EW",declarer:"S"}}}),se=Object(f.a)(ne.prototype,"InfoDrawer",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=Object(f.a)(ne.prototype,"curCall",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),oe=Object(f.a)(ne.prototype,"_result",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),le=Object(f.a)(ne.prototype,"history",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=Object(f.a)(ne.prototype,"record",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{auction:[],cards:[],tricks:[]}]}}),de=Object(f.a)(ne.prototype,"record_result",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(f.a)(ne.prototype,"size",[C.e],Object.getOwnPropertyDescriptor(ne.prototype,"size"),ne.prototype),Object(f.a)(ne.prototype,"csize",[C.e],Object.getOwnPropertyDescriptor(ne.prototype,"csize"),ne.prototype),Object(f.a)(ne.prototype,"initCards",[C.d],Object.getOwnPropertyDescriptor(ne.prototype,"initCards"),ne.prototype),Object(f.a)(ne.prototype,"toggleBid",[_],Object.getOwnPropertyDescriptor(ne.prototype,"toggleBid"),ne.prototype),Object(f.a)(ne.prototype,"toggleInfo",[T],Object.getOwnPropertyDescriptor(ne.prototype,"toggleInfo"),ne.prototype),Object(f.a)(ne.prototype,"dealCards",[A],Object.getOwnPropertyDescriptor(ne.prototype,"dealCards"),ne.prototype),Object(f.a)(ne.prototype,"play",[D],Object.getOwnPropertyDescriptor(ne.prototype,"play"),ne.prototype),Object(f.a)(ne.prototype,"dplay",[P],Object.getOwnPropertyDescriptor(ne.prototype,"dplay"),ne.prototype),Object(f.a)(ne.prototype,"_preplay",[L],Object.getOwnPropertyDescriptor(ne.prototype,"_preplay"),ne.prototype),me=Object(f.a)(ne.prototype,"_play",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(4!==e.board[0].length){e._setCardACT2(t,!0),e.resetTable();var a=N.SNames.indexOf(t.seat),n=e.state.cards[a];n=e.resetCards(n,t.seat,!0),Ee.play(t)}else setTimeout(e._play.bind(e,t),1100)}}}),Object(f.a)(ne.prototype,"restore",[I],Object.getOwnPropertyDescriptor(ne.prototype,"restore"),ne.prototype),Object(f.a)(ne.prototype,"restore0",[H],Object.getOwnPropertyDescriptor(ne.prototype,"restore0"),ne.prototype),Object(f.a)(ne.prototype,"restore1",[W],Object.getOwnPropertyDescriptor(ne.prototype,"restore1"),ne.prototype),Object(f.a)(ne.prototype,"restore2",[q],Object.getOwnPropertyDescriptor(ne.prototype,"restore2"),ne.prototype),Object(f.a)(ne.prototype,"restore3",[B],Object.getOwnPropertyDescriptor(ne.prototype,"restore3"),ne.prototype),Object(f.a)(ne.prototype,"clearBoard",[R],Object.getOwnPropertyDescriptor(ne.prototype,"clearBoard"),ne.prototype),Object(f.a)(ne.prototype,"resetTable",[F],Object.getOwnPropertyDescriptor(ne.prototype,"resetTable"),ne.prototype),Object(f.a)(ne.prototype,"resetCards",[J],Object.getOwnPropertyDescriptor(ne.prototype,"resetCards"),ne.prototype),Object(f.a)(ne.prototype,"claim",[M],Object.getOwnPropertyDescriptor(ne.prototype,"claim"),ne.prototype),Object(f.a)(ne.prototype,"getUnPlayCardNumber",[Q],Object.getOwnPropertyDescriptor(ne.prototype,"getUnPlayCardNumber"),ne.prototype),Object(f.a)(ne.prototype,"toggleLastTrick",[K],Object.getOwnPropertyDescriptor(ne.prototype,"toggleLastTrick"),ne.prototype),Object(f.a)(ne.prototype,"showLastTrick",[U],Object.getOwnPropertyDescriptor(ne.prototype,"showLastTrick"),ne.prototype),Object(f.a)(ne.prototype,"hideLastTrick",[V],Object.getOwnPropertyDescriptor(ne.prototype,"hideLastTrick"),ne.prototype),Object(f.a)(ne.prototype,"_setShowLastTrick",[C.d],Object.getOwnPropertyDescriptor(ne.prototype,"_setShowLastTrick"),ne.prototype),Object(f.a)(ne.prototype,"_showLastTrick",[C.d],Object.getOwnPropertyDescriptor(ne.prototype,"_showLastTrick"),ne.prototype),Object(f.a)(ne.prototype,"_hideLastTrick",[C.d],Object.getOwnPropertyDescriptor(ne.prototype,"_hideLastTrick"),ne.prototype),Object(f.a)(ne.prototype,"openDummy",[G],Object.getOwnPropertyDescriptor(ne.prototype,"openDummy"),ne.prototype),Object(f.a)(ne.prototype,"userReady",[$],Object.getOwnPropertyDescriptor(ne.prototype,"userReady"),ne.prototype),Object(f.a)(ne.prototype,"userAllReady",[Y],Object.getOwnPropertyDescriptor(ne.prototype,"userAllReady"),ne.prototype),Object(f.a)(ne.prototype,"userLogin",[Z],Object.getOwnPropertyDescriptor(ne.prototype,"userLogin"),ne.prototype),pe=Object(f.a)(ne.prototype,"recovery",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){}}}),he=Object(f.a)(ne.prototype,"showHistory",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.history=!0}}}),be=Object(f.a)(ne.prototype,"hideHistory",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.history=!1}}}),ne),ge=new Se;Array.prototype.RightMove=function(e){e=e||0;for(var t=0;t<e;t++){var a=this.pop();this.unshift(a)}};function ke(e){window.document.createElement("img").src=e}var Oe=a(65),Ce=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"play",value:function(e){document.querySelector("#sound").innerHTML='<audio controls="controls" id="audio_player" style="display:none;"> <source src="'+e+'" > </audio><embed id="MPlayer_Alert" src="/sounds/'+e+'.mp3" loop="false" width="0px" height="0px" /></embed>'}}]),e}(),we=(a(230),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={time:0},a.timing=function(){a.state.time===a.props.time?(a.props.callback(),clearInterval(a._clock)):a.setState({time:++a.state.time})},a.color1="#eeee33",a.color2="#73D0F4",a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this._clock=setInterval(this.timing,1e3)}},{key:"render",value:function(){var e=this.state.time,a=t.svg.replace("{time}",e).replace(/{color1}/g,this.color1).replace(/{color2}/g,this.color2);return r.a.createElement("div",{style:{animation:"twinkling 1s infinite ease-in-out",animationFillMode:"both",width:"100%"},dangerouslySetInnerHTML:{__html:"".concat(a)}})}}]),t}(n.Component));we.svg='\n<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 100 95">\n \x3c!-- Created with Method Draw - http://github.com/duopixel/Method-Draw/ --\x3e\n\n <g>\n  <title>background</title>\n  <rect fill="none" id="canvas_background" height="97" width="102" y="-1" x="-1"/>\n  <g display="none" overflow="visible" y="0" x="0" height="100%" width="100%" id="canvasGrid">\n   <rect fill="url(#gridpattern)" stroke-width="0" y="0" x="0" height="100%" width="100%"/>\n  </g>\n </g>\n <g>\n  <title>Layer 1</title>\n  <g stroke="null" id="svg_32">\n   <g stroke="null" transform="matrix(0.23071361434944695,0,0,0.23071361434944695,-27.358995633015137,-28.494021335889844) " id="svg_5">\n    <g stroke="null" id="svg_6">\n     <path stroke="null" id="svg_7" fill="none" d="m335.303058,180.7814c-86.434,0 -156.754,70.318 -156.754,156.752s70.32,156.752 156.754,156.752s156.752,-70.318 156.752,-156.752s-70.318,-156.752 -156.752,-156.752zm0,300.674c-79.359,0 -143.923,-64.563 -143.923,-143.922s64.564,-143.922 143.923,-143.922s143.922,64.563 143.922,143.922s-64.562,143.922 -143.922,143.922z"/>\n     <path stroke="null" id="svg_8" fill="none" d="m335.303058,217.6114c-66.126,0 -119.923,53.797 -119.923,119.922s53.797,119.922 119.923,119.922c66.125,0 119.922,-53.797 119.922,-119.922s-53.797,-119.922 -119.922,-119.922zm75.232,154.996c-1.232,0 -2.486,-0.191 -3.723,-0.594l-44.67,-14.566c-6.1,8.199 -15.859,13.523 -26.84,13.523c-18.438,0 -33.437,-15 -33.437,-33.438c0,-7.834 2.715,-15.041 7.243,-20.746l-37.572,-53.553c-3.807,-5.424 -2.494,-12.908 2.932,-16.715c5.424,-3.807 12.909,-2.494 16.715,2.932l38.658,55.1c1.777,-0.295 3.601,-0.453 5.461,-0.453c17.346,0 31.646,13.279 33.276,30.205l45.673,14.893c6.302,2.055 9.744,8.828 7.689,15.129c-1.65,5.064 -6.351,8.283 -11.405,8.283z"/>\n     <path stroke="null" id="svg_9" fill="none" d="m335.303058,328.0974c-5.203,0 -9.437,4.232 -9.437,9.436c0,5.203 4.233,9.438 9.437,9.438c5.203,0 9.435,-4.234 9.435,-9.438c0.001,-5.203 -4.232,-9.436 -9.435,-9.436z"/>\n     <path stroke="null" id="svg_10" fill="{color2}" d="m191.513058,153.0054c-12.267,0 -23.8,4.777 -32.474,13.451c-14.973,14.973 -17.426,37.795 -7.361,55.34l62.711,-62.711c-6.884,-3.966 -14.718,-6.08 -22.876,-6.08z"/>\n     <path stroke="null" id="svg_11" fill="{color2}" d="m479.092058,153.0054c-8.158,0 -15.992,2.113 -22.877,6.08l62.711,62.711c10.065,-17.545 7.611,-40.367 -7.359,-55.34c-8.674,-8.673 -20.207,-13.451 -32.475,-13.451z"/>\n     <path stroke="null" id="svg_12" fill="{color1}" d="m335.303058,193.6114c-79.359,0 -143.923,64.563 -143.923,143.922s64.563,143.922 143.923,143.922s143.922,-64.563 143.922,-143.922s-64.562,-143.922 -143.922,-143.922zm0,263.844c-66.126,0 -119.923,-53.797 -119.923,-119.922s53.797,-119.922 119.923,-119.922c66.125,0 119.922,53.797 119.922,119.922s-53.797,119.922 -119.922,119.922z"/>\n     <path stroke="null" id="svg_13" fill="{color1}" d="m516.055058,337.5334c0,-99.668 -81.086,-180.752 -180.752,-180.752c-99.668,0 -180.754,81.084 -180.754,180.752c0,53.789 23.625,102.154 61.033,135.295l-23.261,38.205c-3.447,5.66 -1.652,13.043 4.008,16.49c1.949,1.186 4.104,1.752 6.23,1.752c4.049,0 8,-2.051 10.26,-5.762l21.859,-35.898c28.781,19.359 63.406,30.67 100.625,30.67c37.218,0 71.842,-11.31 100.623,-30.67l21.859,35.898c2.26,3.713 6.211,5.762 10.261,5.762c2.126,0 4.28,-0.566 6.23,-1.752c5.66,-3.447 7.455,-10.83 4.009,-16.49l-23.263,-38.205c37.408,-33.141 61.033,-81.506 61.033,-135.295zm-180.752,156.752c-86.434,0 -156.754,-70.318 -156.754,-156.752s70.32,-156.752 156.754,-156.752s156.752,70.318 156.752,156.752s-70.318,156.752 -156.752,156.752z"/>\n     <path stroke="null" id="svg_15" fill="{color1}" d="m240.959058,166.4584c2.25,-2.252 3.514,-5.303 3.514,-8.486c0,-3.182 -1.264,-6.234 -3.514,-8.484c-13.208,-13.207 -30.768,-20.483 -49.446,-20.483c-18.679,0 -36.237,7.273 -49.444,20.48c-27.264,27.266 -27.264,71.627 0,98.891c2.344,2.344 5.414,3.516 8.484,3.516c3.072,0 6.143,-1.172 8.486,-3.516l81.92,-81.918zm-81.92,-0.002c8.674,-8.674 20.207,-13.451 32.474,-13.451c8.158,0 15.992,2.113 22.876,6.08l-62.711,62.711c-10.064,-17.545 -7.611,-40.367 7.361,-55.34z"/>\n     <path stroke="null" id="svg_16" fill="{color1}" d="m528.538058,149.4864c-13.208,-13.207 -30.768,-20.48 -49.445,-20.48c-18.678,0 -36.238,7.275 -49.445,20.482c-2.251,2.25 -3.516,5.303 -3.516,8.484c0,3.184 1.265,6.234 3.516,8.486l81.919,81.918c2.343,2.344 5.414,3.516 8.485,3.516c3.07,0 6.143,-1.172 8.485,-3.516c27.264,-27.263 27.264,-71.625 0.001,-98.89zm-9.612,72.31l-62.711,-62.711c6.885,-3.967 14.719,-6.08 22.877,-6.08c12.268,0 23.801,4.777 32.475,13.451c14.971,14.973 17.425,37.795 7.359,55.34z"/>\n    </g>\n   </g>\n  </g>\n  <text text-anchor="middle" style="cursor: move;" font-weight="bold" stroke="null" transform="matrix(1.599530816078186,0,0,1.599530816078186,-26.154531851410866,-19.859458282589912) " xml:space="preserve" text-anchor="start" font-family="\'Monospace\', Monospace" font-size="24" id="svg_34" y="51.312034" x="46.873909" stroke-opacity="null" stroke-width="0" fill="#ff7f00">{time}</text>\n </g>\n</svg>\n';var je=we;var Ne,Xe={scene:2,deals:"...XXXXXXXXXXXXX 43.5..XXXXXXXXXX 7..A.XXXXXXXXXXX ...XXXXXXXXXXXXX",claim:{seat:"E",msg:"3NT X +3"},winEW:2,winSN:3,dummySeat:"E",curCall:"3NT",contract:"3NT X",user:{E:{ready:1,name:"\u5f20\u4e09",face:"/imgs/face1.png",rank:"\u5927\u5e08",seat:"E"},S:{ready:0,name:"",face:"",rank:"",seat:""},W:{ready:0,name:"",face:"",rank:"",seat:""},N:{ready:0,name:"",face:"",rank:"",seat:""}},calldata:{first:"S",call:[["1C =1=","PASS","PASS","2H"],["PASS","PASS","3C =2=","PASS"],["PASS","3H","PASS","PASS"],["3S =3=","PASS","PASS","3NT =4="]],note:["\u7ea6\u5b9a\u53eb1\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb2\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb3\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb4\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165..."]},userCards:[["CX","CX"],["S4","S3","H5"],["S7","CA"],["CX","CX"]],board:[[{seat:"S",card:"HA"},{seat:"W",card:"HJ"},{seat:"N",card:"H7"}],[{seat:"S",card:"HK"},{seat:"W",card:"HT"},{seat:"N",card:"H6"},{seat:"E",card:"H4"}]]},xe={first:"S",call:[["-","-","PASS","2H"],["PASS","PASS","3C =2=","PASS"],["PASS","3H","PASS","PASS"],["3S =3=","PASS","PASS",""]],note:["\u7ea6\u5b9a\u53eb1\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb2\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb3\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165..."]},_e={first:"S",call:[["1C =1=","PASS","PASS","2H"],["PASS","PASS","3C =2=","PASS"],["PASS","3H","PASS","PASS"],["3S =3=","PASS","PASS","3NT =4="]],note:["\u7ea6\u5b9a\u53eb1\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb2\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb3\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb4\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165..."]},Te=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.o;return e.timing11=function(e,t,a){var n=this.props.tableStore.height;s.a.unmountComponentAtNode(document.querySelector("#clock"));var i=.18*n,c={E:{x:i,y:0},S:{x:0,y:i},W:{x:.66*-i,y:0},N:{x:0,y:.66*-i}},o={position:"absolute",top:this.props.tableStore.seat[e][1].y+c[e].y,left:this.props.tableStore.seat[e][1].x+c[e].x,width:"8%"},l=r.a.createElement("div",{style:o},r.a.createElement(je,{time:t,callback:a}));s.a.render(l,document.querySelector("#clock"))},e.timing=function(e,t,a){var n=new N(e).lshift(1).sn;s.a.unmountComponentAtNode(document.querySelector("."+n+"clock")),s.a.render(r.a.createElement(je,{time:t,callback:a}),document.querySelector("."+e+"clock"))},e.testClock=function(){var e=this;this.timing("E",10,function(){return e.timing("S",10,function(){return e.timing("W",10,function(){return e.timing("N",10,function(){return console.log("\u5012\u8ba1\u65f6\u7ed3\u675f\uff01")})})})})},e.test1=function(){var e=this.state.cards;e[0][0].animation={top:200,left:200},this.setState({cards:e})},e.testActive=function(){this.props.tableStore.setActive([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],0)},e.showTableId=function(){alert(e.props.tableStore.tableId)},e.test3=function(){this.clearBoard()},e.testDummy=function(){e.openDummy()},e.testDummy1=function(t){var a=t,n=0,r="K.KJT732.964.A52".split("."),i=e.props.tableStore.state.cards[Se.seats.indexOf(a)];console.log("seatnumber:",r),r.forEach(function(t,a){t.split("").forEach(function(t,r){i[n].card=t+k.suits[a],i[n].onclick=e.play(i[n]),n++})}),console.log("openDummy.............."),console.log(e.props.tableStore.state.cards)},e.testLastTrick=function(){this.lastTrick(!1)},e.testBid1=function(){e.props.tableStore.state.calldata=xe},e.testBid2=function(){e.props.tableStore.state.calldata=_e},e.testUsersReady=function(){var e=this,t=function(t,a){e.state.user[t].name=a,e.setState({user:e.state.user})};setTimeout(t.bind(this,"east","\u5f20\u4e09\u4e30"),1e3),setTimeout(t.bind(this,"south","\u674e\u56db"),2e3),setTimeout(t.bind(this,"west","\u738b\u4e94"),3e3),setTimeout(t.bind(this,"north","\u8d75\u516d"),4e3)},e.testChat=function(){var t=document.querySelector("#message"),a=document.querySelector("#say");t.innerHTML="<div>"+e.props.tableStore.myseat+":"+a.value+"</div>"+t.innerHTML},e.addClick=function(){var t=e.props.tableStore,a=t.selectCardsByAct([S.L]);t.setCardsState(a,{active:S.LC,onclick:t.play})},e.addClick1=function(){var t=e.props.tableStore,a=t.selectCards("S","D");console.log(a),t.setCardsState(a,{active:S.LC,onclick:t.play}),a=t.selectCards("NEW","SHDC"),t.setCardsState(a,{active:S.L,onclick:t.play}),a=t.selectCards("S","SHC"),t.setCardsState(a,{active:S.D,onclick:t.play})},e.testSeat=function(){var t={position:"absolute",border:"1px solid red",width:"5px",top:e.props.tableStore.seat.south[1].y,left:e.props.tableStore.seat.south[1].x,height:"5px"},a=r.a.createElement("div",{id:"testDiv",style:t});document.querySelector("#testDiv")?s.a.unmountComponentAtNode(document.querySelector("#clock")):s.a.render(a,document.querySelector("#clock"))},e.restore=function(){var t=Xe;e.props.tableStore.restore(t),window.___board=e.props.tableStore.board},e.dplay=function(){e.props.tableStore.dplay("E","S2")},e.wLogin=function(){e.props.tableStore.userLogin("S",{ready:0,name:"\u738b\u4e94",face:"/imgs/face1.png",rank:"\u738b\u8005",seat:"S"}),e.props.tableStore.userLogin("W",{ready:0,name:"\u738b\u4e94",face:"/imgs/face1.png",rank:"\u738b\u8005",seat:"W"})},e.initcards=function(){e.props.tableStore.initCards("...XXXXXXXXXXXXX 43.5..XXXXXXXXXX 7...AXXXXXXXXXXX ...XXXXXXXXXXXXX")},r.a.createElement("div",{className:"debug",style:{position:"absolute"}},r.a.createElement("button",{onClick:e.testUsersReady},"\u767b\u5f55"),"\xa0",r.a.createElement("button",{onClick:e.wLogin},"\u897f\u73a9\u5bb6\u767b\u5f55"),"\xa0",r.a.createElement("button",{onClick:e.initcards},"\u51c6\u5907\u724c"),"\xa0",r.a.createElement("button",{onClick:e.deal},"\u53d1\u724c"),"\xa0",r.a.createElement("button",{onClick:e.testSeat},"\u51fa\u724c\u4f4d\u7f6e\u663e\u793a"),"\xa0",r.a.createElement("button",{onClick:e.test1.bind(e)},"\u51fa\u724c"),"\xa0",r.a.createElement("button",{onClick:e.addClick1},"\u963b\u6b62\u51fa\u724c"),"\xa0",r.a.createElement("button",{onClick:e.test3.bind(e)},"\u6e05\u7406\u684c\u9762"),"\xa0",r.a.createElement("br",null),r.a.createElement("button",{onClick:e.testDummy.bind(e,"east")},"\u660e\u624b\u4e1c"),"\xa0",r.a.createElement("button",{onClick:e.testDummy.bind(e,"west")},"\u660e\u624b\u897f"),"\xa0",r.a.createElement("button",{onClick:e.testDummy.bind(e,"north")},"\u660e\u624b\u5317"),"\xa0",r.a.createElement("br",null),r.a.createElement("button",{onClick:e.bid.bind(e)},"\u663e\u793a\u53eb\u724c"),"\xa0",r.a.createElement("button",{onClick:e.testBid1.bind()},"\u53eb\u724c"),"\xa0",r.a.createElement("button",{onClick:e.testBid2.bind()},"\u53eb\u724c1"),"\xa0",r.a.createElement("button",{onClick:e.testClock.bind(e)},"\u5012\u8ba1\u65f6"),"\xa0",r.a.createElement("button",{onClick:e.testLastTrick.bind(e)},"\u4e0a\u4e00\u58a9\u724c"),"\xa0",r.a.createElement("br",null),r.a.createElement("button",{onClick:e.restore},"\u65ad\u7ebf\u91cd\u8fde"),"\xa0",r.a.createElement("button",{onClick:e.addClick},"\u724c\u53ef\u70b9\u51fb"),"\xa0",r.a.createElement("button",{onClick:e.showResult},"\u663e\u793a\u7ed3\u679c"),"\xa0",r.a.createElement("button",{onClick:e.showTableId},"\u663e\u793a\u684c\u53f7"),"\xa0",r.a.createElement("button",{onClick:e.dplay},"\u4e1c\u51fa\u724c"),"\xa0",r.a.createElement("button",{onClick:e.initCards},"\u521d\u59cb\u5316"),"\xa0")}}]),t}(n.Component),Ae=(a(231),Object(h.b)("tableStore")(Ne=Object(h.c)(Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={number:0,value:-1,submit:0},a.handleClick=function(e){console.log("ccc..."),a.setState({value:e})},a.handleSubmit=function(e){if(2===e){if(-1===a.state.value)return;a.setState({submit:1})}else 3===e?a.props.tableStore.state.scene=2:a.setState({submit:1})},a.handleSubmit1=function(){},a.state.value=-1,a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"myClaim",value:function(){var e=this,t=this.props.tableStore.getUnPlayCardNumber(),a=Array(t+1).fill("").map(function(t,a){return r.a.createElement(De,{key:a,number:a,active:e.state.value===a?0:1,onClick:e.state.submit?null:e.handleClick.bind(e,a)})});return r.a.createElement("div",{id:"myclaim",className:"claim"},r.a.createElement("b",null,"\u5269\u4e0b\u8fd8\u53ef\u8d62\uff1a"),r.a.createElement("br",null),a,r.a.createElement("div",{style:{clear:"both"}}),this.state.submit?r.a.createElement("button",{disabled:"true"},"\u7b49\u5f85\u786e\u8ba4.."):r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleSubmit.bind(this,3)},"\u53d6\u6d88"),r.a.createElement("button",{onClick:this.handleSubmit.bind(this,2)},"\u786e\u8ba4")))}},{key:"oClaim",value:function(){var e=this.props.tableStore.state.claim.msg,t=this.props.tableStore.dummySeat,a=this.state.submit?r.a.createElement("div",null,r.a.createElement("i",null,r.a.createElement("br",null),"\u7b49\u5f85\u642d\u6863\u786e\u8ba4..")):r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleSubmit.bind(this,1)},"\u540c\u610f1"),r.a.createElement("button",{onClick:this.handleSubmit.bind(this,0)},"\u62d2\u7edd1"));return r.a.createElement("div",{id:"otherclaim",className:"claim"},r.a.createElement("br",null),e,"S"===t?r.a.createElement("div",null,r.a.createElement("i",null,r.a.createElement("br",null),"\u7b49\u5f85\u786e\u8ba4..")):a)}},{key:"render",value:function(){var e=this.myClaim(),t=this.oClaim();return this.props.tableStore.state.claim.seat===this.props.tableStore.myseat?e:t}}]),t}(n.Component))||Ne)||Ne),De=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=0===this.props.active?{brightness:.6}:{brightness:1};return r.a.createElement(v.a,{animation:Object(y.a)({},e,{duration:100,ease:"easeOutQuint"}),className:"cblock"},r.a.createElement("div",{className:"cn1",onClick:this.props.onClick,style:{backgroundColor:"#eeeeee"}},this.props.number))}}]),t}(n.Component),Pe=Ae,Le=(a(232),a(175)),ze=a(364),Ie=a(34),He=a(365);a(143);var We,qe=function(e){var t=e.bid,a=e.callback,i=Object(n.useState)(!0),s=Object(Le.a)(i,2),c=s[0],o=s[1],l=r.a.useRef(null),u=Object(n.useCallback)(function(e){o(!1),a(l.current.state.value)});return r.a.createElement("div",null,r.a.createElement(ze.a,{title:"\u7ea6\u5b9a\u53eb\u63cf\u8ff0\u5f55\u5165\uff1a".concat(t),visible:c,mask:!1,closable:!1,onOk:u,onCancel:u,footer:[r.a.createElement(Ie.a,{type:"primary",onClick:function(){return u(1)}},"\u786e\u8ba4"),r.a.createElement(Ie.a,{onClick:function(){return u(0)}},"\u53d6\u6d88")],style:{top:"20vh",left:"-30vh"}},r.a.createElement(He.a,{ref:l,placeholder:"\u8bf7\u5728\u6b64\u5904\u8be6\u7ec6\u8f93\u5165\u7ea6\u5b9a\u53eb\u63cf\u8ff0\uff01"})))},Be=Object(h.b)("tableStore")(We=Object(h.c)(We=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={bidblocks:[],bidcards:[],active:1,calling:"",bidMsg:null},a.handleCall=function(e){a.state.bidMsg=null,"row"in e?a._bidblock(e):a._bidcard(e)},a._bidcard=function(e){if(!a.state.active)return!1;"ALERT"===e.name?a.state.bidcards[1].active=!a.state.bidcards[1].active:(a.state.bidcards.forEach(function(t){t.name===e.name?t.active=0:t.active=1}),a.state.bidblocks.map(function(e){return e.map(function(e){return e.active=1,e})}));var t=a.state.calling;"ALERT"===e.name?-1===a.state.calling.indexOf("ALERT")&&(t+=" "+e.name):t=e.name,a.setState({bidblocks:a.state.bidblocks,bidcards:a.state.bidcards,calling:t})},a._bidblock=function(e){if(!a.state.active)return!1;for(var t=a.state.bidblocks,n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)(n<e.row||n===e.row&&r>=e.col)&&null!=t[n][r].active&&(t[n][r].active=0),(n>e.row||n===e.row&&r<e.col)&&null!=t[n][r].active&&(t[n][r].active=1);a.state.bidcards.map(function(e){return e.active=1,e}),a.setState({bidblocks:a.state.bidblocks,bidcards:a.state.bidcards,calling:a.state.bidblocks[e.row][e.col].name})},a.handleConfirm=function(){a.state.bidMsg;a.setState({calling:"",bidcards:[{name:"PASS",active:1},{name:"ALERT",active:1},{name:"X",active:1},{name:"XX",active:1}]})},a.handleReset=function(){a.setState({bidblocks:a.state.bidblocks.map(function(e){return e.map(function(e){return null!=e.active&&(e.active=1),e})}),bidcards:a.state.bidcards.map(function(e){return e.active=1,e})})},a.initPanel=function(e){var t=e,n=a.state.bidblocks,r=["NT","S","H","D","C"];t&&(n.splice(0,t.slice(0,1)-1-(7-n.length)),"NT"===t.slice(1)?n.splice(0,1):n[0].forEach(function(e,a){a>=r.indexOf(t.slice(1))&&(e.active=null)})),a.setState({bidblocks:n})},a.width=window.screen.width,window.__BID=Object(Oe.a)(a);var n=["NT","S","H","D","C"],i=[1,2,3,4,5,6,7].map(function(e){return n.map(function(t){return e+t})});console.log(i);var s=i.map(function(e,t){return e.map(function(e,t){return{name:e,active:1}})});return a.state.bidcards=[{name:"PASS",active:1},{name:"ALERT",active:1},{name:"X",active:1},{name:"XX",active:1}],a.state.bidblocks=s,a.ref=r.a.createRef(),a.atDisposer=Object(C.m)(function(){return a.props.tableStore.curCall},function(e,t){a.initPanel(e)},{fireImmediately:!0}),a.initPanel(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.atDisposer()}},{key:"getCallRows",value:function(){var e=this.props.tableStore.state.calldata,t=e.first,a=e.call,n=e.note;console.log(a);var i=this.props.tableStore.myseat;if(!t)return[];var s=new N("S").lsto(i),c=[new N("W").lshift(s).cn,new N("N").lshift(s).cn,new N("E").lshift(s).cn,new N("S").lshift(s).cn],o=r.a.createElement("tr",null,r.a.createElement("td",null,"\xa0"),r.a.createElement("td",null,c[0]),r.a.createElement("td",null,c[1]),r.a.createElement("td",null,c[2]),r.a.createElement("td",null,c[3])),l=a.map(function(e,t){console.log(e);var a=null;return r.a.createElement("tr",{key:t},r.a.createElement("td",{key:"0"},"\xa0",t+1),e.map(function(e,i){return(a=e.split(" "))[0]?2===a.length?(a[1]=a[1].slice(1,2),r.a.createElement("td",{title:n[a[1]-1],key:t+i+1,className:"alertTd"},r.a.createElement("img",{className:"suit",src:"cards/bids/".concat(a[0],".svg")}))):r.a.createElement("td",{key:t+i+1},"-"===a[0]?"":r.a.createElement("img",{className:"suit",src:"cards/bids/".concat(a[0].toUpperCase(),".svg")})):" "}))});return r.a.createElement("table",null,r.a.createElement("thead",null,o),r.a.createElement("tbody",null,l))}},{key:"render",value:function(){var e=this;console.log("ffff:"+this.width);var t=this.state.bidblocks.map(function(t,a){return t.map(function(t,n){return r.a.createElement(Re,{key:t.name,name:t.name,active:t.active,onclick:e.handleCall.bind(e,{row:a,col:n})})})}),a=this.getCallRows();console.log(123);var i=this.props.tableStore.bidState.showBlock,s=r.a.createElement(n.Fragment,null,r.a.createElement(Fe,{name:"PASS",active:this.state.bidcards[0].active,onclick:this.handleCall.bind(this,{name:"PASS"})}),r.a.createElement(Fe,{name:"X",active:this.state.bidcards[2].active,onclick:this.handleCall.bind(this,{name:"X"})}),r.a.createElement(Fe,{name:"XX",active:this.state.bidcards[3].active,onclick:this.handleCall.bind(this,{name:"XX"})}),r.a.createElement(Fe,{name:"ALERT",active:this.state.bidcards[1].active,onclick:this.handleCall.bind(this,{name:"ALERT"})})),c=r.a.createElement(n.Fragment,null,t,s,r.a.createElement("button",{onClick:this.handleConfirm},"\u786e\u8ba4"),r.a.createElement("button",{onClick:this.handleReset},"\u91cd\u7f6e"),r.a.createElement("div",{className:"calling"},this.state.calling));return r.a.createElement("div",{id:"bidpanel",className:"bidpanel",ref:this.ref},this.state.bidcards[1].active?null:r.a.createElement(qe,{bid:this.state.calling,callback:function(t){t?(e.state.bidMsg=t,e.state.bidcards[1].active=0,e.setState({bidcards:e.state.bidcards})):e.state.bidcards[1].active=1}}),r.a.createElement("div",{className:"qqqqqqqqqqqqq"},a),i?c:null)}}]),t}(n.Component))||We)||We,Re=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.name.slice(-1),t={backgroundColor:"".concat({T:"#eeeeee",S:"#eeeeFF",H:"#FFeeee",D:"#ffffee",C:"#eeffee"}[e])},a={brightness:0},n=this.props.onclick;return null===this.props.active&&(a.opacity=0,n=function(e){return e.preventDefault()}),0===this.props.active&&(a.brightness=.6),1===this.props.active&&(a.brightness=1),r.a.createElement(E,{animation:a,className:"bidblock"},r.a.createElement("div",{className:"cn1",onClick:n,style:t},r.a.createElement("img",{className:"suit",src:"cards/bids/".concat(this.props.name,".svg")})))}}]),t}(n.Component),Fe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e={backgroundColor:"".concat({PASS:"#88FF88",X:"#FF8888",XX:"#FF3333",ALERT:"#8888FF"}[this.props.name]),width:"".concat({PASS:"17.35vh",X:"8.5vh",XX:"8.5vh",ALERT:"8.5vh"}[this.props.name])},t={};return 0===this.props.active&&t&&(t.brightness=.6),1===this.props.active&&t&&(t.brightness=1),r.a.createElement(E,{animation:t,className:"bidcard"},r.a.createElement("div",{className:"cn1",onClick:this.props.onclick,style:e},r.a.createElement("img",{className:"suit",src:"cards/bids/".concat(this.props.name,".svg")})))}}]),t}(n.Component),Je=Be,Me=(a(245),n.Component,function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e={EW:"",SN:""},t={N:"",E:"",S:"",W:""};return t[this.props.dealer]=this.props.logicDealer+"-Dealer","BOTH"===this.props.vul.toUpperCase()?(e.EW="hasVul",e.SN="hasVul"):e[this.props.vul.toUpperCase()]="hasVul",r.a.createElement("div",{className:"seats"},r.a.createElement("div",{className:"sequence"},this.props.sequence),r.a.createElement("div",{className:"s1 "+e.SN},t.N),r.a.createElement("div",{className:"s2 "+e.EW},t.W),r.a.createElement("div",{className:"s3 "+e.EW},t.E),r.a.createElement("div",{className:"s4 "+e.SN},t.S))}}]),t}(n.Component)),Qe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data.winEW,t=this.props.data.winSN,a=this.props.data.contract,n=this.props.data.declarer;return r.a.createElement("div",{className:"tricks"},r.a.createElement("div",{className:"s1"},r.a.createElement("br",null),"SN",r.a.createElement("br",null),t),r.a.createElement("div",{className:"s2"},r.a.createElement("div",null,"\u5e84:",n),a),r.a.createElement("div",{className:"s3"},"EW",e))}}]),t}(n.Component);Qe.defaultProps={data:{winEW:0,winSN:0,contract:"",declarer:""}};a(246);var Ke,Ue=Object(h.b)("tableStore")(Ke=Object(h.c)(Ke=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=["\u51c6\u5907","\u5c31\u7eea"],a=["","ready"],n=this.props.tableStore.state.user,i=this.props.tableStore.myseat,s=new N("S").lsto(i),c="ESWN".split("").map(function(i,c){var o=new N(i).lshift(s),l=n[o.sn].ready,u=a[l];return r.a.createElement("button",{key:c,className:u,onClick:function(){return e.props.ready(o.sn)}},t[l])});return r.a.createElement("div",{className:"prepare"},c)}}]),t}(n.Component))||Ke)||Ke,Ve=(a(247),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.user,t=this.props.position,a="";a="N"===t?"\u540c\u4f34":"S"===t?"\u6211":"\u5bf9\u624b";var n=r.a.createElement("div",null,r.a.createElement("div",{className:"uname"},r.a.createElement("b",null,e.seat),":",e.name,r.a.createElement("sub",null,"\uff08",a,"\uff09")),r.a.createElement("div",{className:"urank"},"\u7b49\u7ea7\uff1a",e.rank)),i=r.a.createElement("div",null,r.a.createElement("div",{className:"uname"},"\u672a\u767b\u5f55"));return r.a.createElement("div",{className:"UserTag"},r.a.createElement("div",{className:"face"},r.a.createElement("div",{className:t+"clock clock"}),r.a.createElement("img",{src:e.face})),e.name?n:i)}}]),t}(r.a.Component)),Ge=function(e){var t=e.user,a=e.myseat,n=e.hcp,i=void 0===n?null:n,s=new N("S").lsto(a),c=t[new N("N").lshift(s).sn],o=t[new N("E").lshift(s).sn],l=t[new N("S").lshift(s).sn],u=t[new N("W").lshift(s).sn],d=i?r.a.createElement("div",null,"\u9ad8\u82b1\u70b9\uff1a",i):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"userTag"},r.a.createElement("div",{className:"seat"},r.a.createElement(Ve,{position:"E",user:o}))),r.a.createElement("div",{className:"userTag"},r.a.createElement("div",{className:"seat"},r.a.createElement("div",{className:"hcp"},d),r.a.createElement(Ve,{position:"S",user:l}))),r.a.createElement("div",{className:"userTag"},r.a.createElement("div",{className:"seat"},r.a.createElement(Ve,{position:"W",user:u}))),r.a.createElement("div",{className:"userTag"},r.a.createElement("div",{className:"seat"},r.a.createElement(Ve,{position:"N",user:c}))))},$e=a(91),Ye=a(100),Ze=a.n(Ye),et=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).seats="",a.start=function(e){a.seats=e,a.timer&&clearInterval(a.timer),a.timer=setInterval(function(e){var t=a.seats;a.setState(Object($e.a)({sec:a.state.sec-1},t,a.state[t]+1))},1e3)},a.stop=function(){clearInterval(a.timer),a.timer=0},a.timer=null;var n=e.time;return a.state={sec:60*n,ew:0,sn:0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.start("ew")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:Ze.a.timername},this.props.name),r.a.createElement("div",{className:Ze.a.timer},r.a.createElement("div",null,this.hour),r.a.createElement("div",null,this.min),r.a.createElement("div",null,this.sec)),r.a.createElement("div",{className:Ze.a.timer1},"\u5bf9\u624b\uff1a",this.ewTime,r.a.createElement("br",null),"\u6211\u65b9\uff1a",this.snTime,r.a.createElement("br",null)))}},{key:"hour",get:function(){var e=parseInt(this.state.sec/60/60);return 0===e?"00":e>9?e:"0"+e}},{key:"min",get:function(){var e=parseInt(this.state.sec/60%60);return 0===e?"00":e>9?e:"0"+e}},{key:"sec",get:function(){var e=parseInt(this.state.sec%60);return 0===e?"00":e>9?e:"0"+e}},{key:"ewTime",get:function(){var e=this.state.ew,t=e%60>9?e%60:"0"+e%60,a=parseInt(e/60)%60;return(a=a>9?a:"0"+a)+":"+t}},{key:"snTime",get:function(){var e=this.state.sn,t=e%60>9?e%60:"0"+e%60,a=parseInt(e/60)%60;return(a=a>9?a:"0"+a)+":"+t}}]),t}(r.a.Component);et.defaltProps={time:90};var tt,at=a(78),nt=a(366),rt=a(367),it=a(368),st=a(363),ct=at.a.Option,ot="/cards/club.svg",lt="/cards/diamond.svg",ut="/cards/heart.svg",dt="/cards/spade.svg",mt=[{name:"\u5f20\u4e09",card:["J8","Q9865","QJ43","KJ"]},{name:"\u674e\u56db",card:["J8","Q9865","QJ43","KJ"]},{name:"\u738b\u4e94",card:["J8","Q9865","QJ43","KJ"]},{name:"\u8d75\u516d",card:["J8","Q9865","QJ43","KJ"]}];function pt(e,t){return r.a.createElement("span",{style:{height:"12px",display:"inline-block"}},r.a.createElement("img",{src:e,style:{width:"12px",height:"12px"}}),t)}var ht,bt,ft,yt,vt,Et,St=[["-","H2","Pass","Pass"],["Pass"]],gt=[{title:"\u5317",dataIndex:"0",key:"north",align:"center"},{title:"\u4e1c",dataIndex:"1",key:"earth",align:"center"},{title:"\u5357",dataIndex:"2",key:"south",align:"center"},{title:"\u897f",dataIndex:"3",key:"west",align:"center"}],kt=[{title:"No",dataIndex:"sequence",key:"sequence"},{title:"\u7ed3\u679c",dataIndex:"result",key:"result"},{title:"NS",dataIndex:"ns_point",key:"ns_point"},{title:"EW",dataIndex:"ew_point",key:"ew_point"},{title:"\u5357\u5317IMP",dataIndex:"nsimp",key:"nsimp"},{title:"\u4e1c\u897fIMP",dataIndex:"ewimp",key:"ewimp"}],Ot=[{title:"\u5317",dataIndex:"0",key:"north",align:"center"},{title:"\u4e1c",dataIndex:"1",key:"earth",align:"center"},{title:"\u5357",dataIndex:"2",key:"south",align:"center"},{title:"\u897f",dataIndex:"3",key:"west",align:"center"},{title:"\u5317",dataIndex:"4",key:"north1",align:"center"},{title:"\u4e1c",dataIndex:"5",key:"earth1",align:"center"},{title:"\u5357",dataIndex:"6",key:"south1",align:"center"},{title:"\u897f",dataIndex:"7",key:"west1",align:"center"}],Ct=[["-","H2","H2","H2","H2","H2"]],wt=Object(h.b)("tableStore")(tt=Object(h.c)(tt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={sequence:1},a.showDrawer=function(){a.props.tableStore.showHistory()},a.onClose=function(){a.props.tableStore.hideHistory()},a.handleChange=function(e){console.log("selected ".concat(e)),a.setState({sequence:e})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){console.log(this.props.tableStore.record);var e=this.props.tableStore.record[this.state.sequence-1]||{auction:"",cards:"",tricks:""},t=e.auction,a=e.cards,n=e.tricks,i=this.props.tableStore.record_result;return r.a.createElement("div",{style:{width:"50vh",margin:"0 auto"}},r.a.createElement(nt.a,{title:"\u5386\u53f2\u8bb0\u5f55",placement:"right",width:"60%",height:"100%",bodyStyle:{backgroundColor:"#0A678A",height:"100%"},closable:!1,onClose:this.onClose,visible:this.props.tableStore.history},r.a.createElement(rt.a,null,r.a.createElement(it.a,{span:12},r.a.createElement(Xt,{result:i})),r.a.createElement(it.a,{span:10,push:1},r.a.createElement(jt,{cards:a})),r.a.createElement(it.a,{span:1},r.a.createElement(at.a,{defaultValue:1,style:{width:120},onChange:this.handleChange},this.props.tableStore.record.map(function(e,t){var a=t+1;return r.a.createElement(ct,{value:a,key:t},"\u7b2c",a,"\u526f  ")})))),r.a.createElement(rt.a,null,r.a.createElement(it.a,{span:12},r.a.createElement(xt,{auction:t})),r.a.createElement(it.a,{span:12},r.a.createElement(_t,{tricks:n})))))}}]),t}(n.Component))||tt)||tt,jt=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.cards.length?this.props.cards:mt;return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{textAlign:"center"}},"\u724c\u578b\u5206\u5e03"),r.a.createElement(rt.a,null,r.a.createElement(it.a,{span:8},r.a.createElement("div",null,"\u5c40\u51b5"),r.a.createElement("div",null,"\u65e0\u53cc")),r.a.createElement(it.a,{span:8},r.a.createElement("div",null,e[0].name),r.a.createElement("div",null,pt(dt)," ",e[0].card[0]),r.a.createElement("div",null,pt(ut),e[0].card[1]),r.a.createElement("div",null,pt(lt)," ",e[0].card[2]),r.a.createElement("div",null,pt(ot)," ",e[0].card[3])),r.a.createElement(it.a,{span:8})),r.a.createElement(rt.a,null,r.a.createElement(it.a,{span:8},r.a.createElement("div",null,e[1].name),r.a.createElement("div",null,pt(dt)," ",e[1].card[0]),r.a.createElement("div",null,pt(ut),e[1].card[1]),r.a.createElement("div",null,pt(lt)," ",e[1].card[2]),r.a.createElement("div",null,pt(ot)," ",e[1].card[3])),r.a.createElement(it.a,{span:8}),r.a.createElement(it.a,{span:8},r.a.createElement("div",null,e[2].name),r.a.createElement("div",null,pt(dt)," ",e[2].card[0]),r.a.createElement("div",null,pt(ut),e[2].card[1]),r.a.createElement("div",null,pt(lt)," ",e[2].card[2]),r.a.createElement("div",null,pt(ot)," ",e[2].card[3]))),r.a.createElement(rt.a,null,r.a.createElement(it.a,{span:8}),r.a.createElement(it.a,{span:8},r.a.createElement("div",null,pt(dt)," ",e[3].card[0]),r.a.createElement("div",null,pt(ut),e[3].card[1]),r.a.createElement("div",null,pt(lt)," ",e[3].card[2]),r.a.createElement("div",null,pt(ot)," ",e[3].card[3]),r.a.createElement("div",null,e[3].name)),r.a.createElement(it.a,{span:8})))}}]),t}(n.Component),Nt=[{sequence:1,result:"W H3",ew_point:0,ns_point:50,nsimp:"",ewimp:1}],Xt=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{textAlign:"center"}},"\u6253\u724c\u7ed3\u679c"),r.a.createElement(st.a,{rowClassName:"aaa",columns:kt,size:"middle",dataSource:Nt,bordered:!0,pagination:!1}))}}]),t}(n.Component),xt=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{textAlign:"center"}},"\u53eb\u724c\u8fc7\u7a0b"),r.a.createElement(st.a,{size:"middle",columns:gt,dataSource:St,pagination:!1,bordered:!0}))}}]),t}(n.Component),_t=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{textAlign:"center"}},"\u6253\u724c\u8fc7\u7a0b"),r.a.createElement(st.a,{size:"middle",columns:Ot,dataSource:Ct,pagination:!1,bordered:!0}))}}]),t}(n.Component),Tt=wt,At=(a(352),a(353),Object(h.b)("tableStore")(ht=Object(h.c)(ht=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.props.tableStore.toggleInfo()},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.tableStore.InfoDrawer;return r.a.createElement("div",null,r.a.createElement(nt.a,{title:"\u672c\u5c40\u4fe1\u606f",placement:"right",closable:!1,onClose:this.onClose,visible:e,className:"infoDrawer",width:"45.2vh"},this.props.tableStore.state.scene>-1?r.a.createElement(Je,null):null,r.a.createElement("div",{className:"ant-drawer-header",style:{position:"absolute",bottom:"32vh",width:"100%"}},r.a.createElement("b",null,"\u4e0a\u4e00\u58a9")),r.a.createElement("p",null,r.a.createElement(Dt,null))))}}]),t}(r.a.Component))||ht)||ht),Dt=Object(h.b)("tableStore")(bt=Object(h.c)(bt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.tableStore.height,t=this.props.tableStore.board,a=this.props.tableStore.seat,n=t[1]&&t[1].map(function(t,n){var r=a[t.seat][1].x-e/2+.252*e/2,i=a[t.seat][1].y-e/2+.252*e/4,s=-1!=="EW".indexOf(t.seat)?-90:0,c=.7*t.size/2;return{card:t.card,size:t.size,position:{x:r,y:i},animation:{top:i,lef:r,duration:0,rotate:s,transformOrigin:"".concat(c,"px ").concat(c,"px")},active:t.active,onclick:function(){return null},key:n,index:n,seat:t.seat,zIndex:t.zIndex}}),i=n&&n.map(function(e,t){return r.a.createElement(k,{active:e.active,onClick:e.onclick,key:e.key,index:e.key,seat:e.seat,animation:e.animation||"",card:e.card,size:e.size,position:e.position,zIndex:e.zIndex})}).slice(0);return r.a.createElement("div",{style:{border:"0px solid #FF0000",position:"absolute",width:"25.2vh",height:"20vh",bottom:"3vh",left:"10vh"}},i)}}]),t}(r.a.Component))||bt)||bt,Pt=At,Lt=Object(h.b)("tableStore")(ft=Object(h.c)(ft=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){console.log(111);var e=this.props,t=e.table,a=e.tableStore;window.__tableStore=a;var n=a.state.cards;n=n?k.createComponents(n):null;var i=Object.values(a.state.user).map(function(e){return e.ready}),s={winEW:a.state.winEW,winSN:a.state.winSN,contract:a.state.contract,declarer:a.state.declarer},c=a.state.claimAble&&a.state.declarer===a.myseat,o=1===a.scene?a.hcp:null;return r.a.createElement("div",null,1===a.state.scene?r.a.createElement("div",{className:"panel"},r.a.createElement(Je,null)):null,r.a.createElement("div",{id:"table",className:"table"},r.a.createElement("div",{id:"header",className:"header"},r.a.createElement("div",{onClick:t.openDebug,className:"re seats"},r.a.createElement(Me,{dealer:a.dealer,logicDealer:a.logicDealer,vul:a.state.vulnerable,sequence:a.sequence})),r.a.createElement("div",{onClick:t.lastTrick.bind(t),className:"re tricks"},r.a.createElement(Qe,{data:s})),r.a.createElement("div",{className:"re time"},r.a.createElement(et,{name:"\u5269\u4f59\u65f6\u95f4",handle:t.timer,time:90,callback:function(){return console.log("\u8ba1\u65f6\u7ed3\u675f")}})),r.a.createElement("button",{onClick:c?t.claim:function(){},className:c?"claimbtn":"claimbtn disable"},"\u644a\u724c"),r.a.createElement("button",{onClick:t.lastTrick.bind(t),className:"lasttrick"},"\u4e0a\u4e00\u58a9\u724c"),r.a.createElement("button",{onClick:t.showInfo},"\u4fe1\u606f\u9762\u677f"),r.a.createElement("button",{onClick:t.history.bind(t),className:"showbid"},"\u5386\u53f2\u8bb0\u5f55"),r.a.createElement("div",{id:"result"}),r.a.createElement("div",{id:"sound"})),r.a.createElement("div",{id:"body",className:"body"},a.state.lastTrick?r.a.createElement("div",{id:"lastTrick",className:"lastTrick"},"33333"):null,3===a.state.scene?r.a.createElement(Pe,{number:"8",onSubmit:t.handleClaim}):null,r.a.createElement("div",{id:"clock"}),r.a.createElement("div",{id:"north",className:"north",ref:t.ref.N}),r.a.createElement("div",{id:"east",className:"east",ref:t.ref.E}),r.a.createElement("div",{id:"south",className:"south",ref:t.ref.S}),r.a.createElement("div",{id:"west",className:"west",ref:t.ref.W}),r.a.createElement("div",{id:"board",className:"board",ref:t.ref.board},r.a.createElement(Ge,{user:a.state.user,myseat:a.myseat,hcp:o}),0===a.state.scene?r.a.createElement(Ue,{stat:i,ready:t.handleReady}):null),n),a.state.debug?r.a.createElement(Te,{o:t}):null,r.a.createElement(Tt,null),r.a.createElement(Pt,null),r.a.createElement("div",{id:"footer",className:"footer"},r.a.createElement("div",{id:"video"}),r.a.createElement("div",{id:"userlist"},r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u961f\u54581"),r.a.createElement("td",null),r.a.createElement("td",null,"\u7b49\u7ea7")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u961f\u54582"),r.a.createElement("td",null),r.a.createElement("td",null,"\u7b49\u7ea7")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u961f\u54583"),r.a.createElement("td",null),r.a.createElement("td",null,"\u7b49\u7ea7")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u961f\u54584"),r.a.createElement("td",null),r.a.createElement("td",null,"\u7b49\u7ea7")))),r.a.createElement("div",{id:"message",className:"message"},r.a.createElement("div",{id:"msg"},"\u804a\u5929\u7a97\u53e3"),r.a.createElement("div",null,r.a.createElement("input",{id:"msginput",type:"text",defaultValue:"\u8bf7\u8f93\u5165\u2026\u2026"}))),r.a.createElement("div",{id:"advertising"})),r.a.createElement("div",{id:"ad"})))}}]),t}(r.a.Component))||ft)||ft,zt=Object(h.b)("tableStore")(yt=Object(h.c)(yt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).clearBoard=function(){a.props.tableStore.clearBoard(),Ce.play("clear")},a.play=function(e){return function(){var t=this.props.tableStore.getCardByIndex(e);if(t.active===S.LC)this.props.tableStore.preplay(t);else{if(t.active!==S.LCO)return;this.props.tableStore.play(t),Ce.play("play"),4===this.props.tableStore.board.length&&setTimeout(this.clearBoard,1e3)}}.bind(Object(Oe.a)(a))},a.claim=function(){a.props.tableStore.claim("S","\u4e1c\uff08E\uff09\u73a9\u5bb6\u644a\u724c\uff0c\u5b9a\u7ea6\uff1a3NT + 3")},a.openDummy=function(){a.props.tableStore.openDummy("E",["SQ","SJ","S9","S8","HA","H5","DJ","D8","D3","CT","C4","CT","C4"])},a.handleClaim=function(){console.log("\u53d1\u9001\u3000claim \u8bf7\u6c42\u3002"),console.log("\u63a5\u6536\u5230\uff0c\u540c\u610f\u8bbe\u7f6e\u3000scene=4,\u4e0d\u540c\u610f\uff0c\u8bbe\u7f6e\u4e3a\uff12")},a.handleReady=function(e){a.props.tableStore.userReady(e),a.props.tableStore.userAllReady()&&(a.props.tableStore.state.scene=1,a.deal(),setTimeout(function(){a.autoCall()},2e3))},a.deal=function(){a.props.tableStore.initCards(a.props.tableStore.deals),setTimeout(a.props.tableStore.dealCards,10),a.props.tableStore.scene=1,Ce.play("deal")},a.showResult=function(){document.querySelector(".result")||s.a.render(r.a.createElement(X,null),document.querySelector("#result"))},a.lastTrick=function(){a.props.tableStore.toggleLastTrick()},a.openDebug=function(){var e=a.props.tableStore.state.debug;a.props.tableStore.state.debug=!e},a.bid=function(){a.props.tableStore.toggleBid()},a.showInfo=function(){a.props.tableStore.toggleInfo()},a.recovery=function(){a.props.tableStore.recovery()},a.reConnect=function(){a.props.tableStore.reConnect()},a.history=function(){a.props.tableStore.showHistory()},a.autoCall=function(){a.props.tableStore.state.calldata={first:"S",call:[["1C =1=","PASS","PASS","2H"],["PASS","PASS","3C =2=","PASS"],["PASS","3H","PASS","PASS"],["3S =3=","PASS","PASS","3NT =4="]],note:["\u7ea6\u5b9a\u53eb1\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb2\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb3\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165...","\u7ea6\u5b9a\u53eb4\uff1a\u8bf4\u660e\u5185\u5bb9\u9884\u5148\u8f93\u5165..."]},a.props.tableStore.toggleBid(),a.props.tableStore.curCall="3NT",setTimeout(function(){a.props.tableStore.state.scene=2},1e3),setTimeout(function(){Ee.start()},2e3)},a.ref={},N.SNames.split("").forEach(function(e){return a.ref[e]=r.a.createRef()}),a.ref.board=r.a.createRef(),a.timer={stop:null,start:null},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this._initSeat(),window.__INITSEAT=this._initSeat.bind(this)}},{key:"_initSeat",value:function(){var e={x:this.ref.board.current.offsetTop+this.ref.board.current.clientHeight/2,y:this.ref.board.current.offsetLeft+this.ref.board.current.clientWidth/2},t={E:{x:0,y:0},S:{x:0,y:0},W:{x:0,y:0},N:{x:0,y:0}};for(var a in t)t[a].y=this.ref[a].current.offsetTop,t[a].x=this.ref[a].current.offsetLeft;this.props.tableStore.initSeat(e,t)}},{key:"_initVideo",value:function(e){streamApi()}},{key:"render",value:function(){return r.a.createElement(Lt,{table:this})}}]),t}(n.Component))||yt)||yt,It=Object(h.b)("tableStore")(vt=Object(h.c)(vt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).debug=!1,a.init(),window.__debug=a.debug,a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"init",value:function(){(function(){var e="SHDC".split(""),t="23456789TJQKA".split("");return e.map(function(e){return t.map(function(t){return"cards/".concat(e+t,".svg")})})})().forEach(function(e){"object"==typeof e?e.forEach(function(e){return ke(e)}):ke(e)}),this.props.tableStore.tableId=this.props.match.params.tableid,this.debug||(window.document.oncontextmenu=function(){return!0},document.ondragstart=function(e){return e.preventDefault()},document.onselectstart=function(e){return e.preventDefault()},document.onkeydown=function(e){var t=(e=window.event||e).keyCode||e.which;if(-1!==[116,123].indexOf(t))if(window.event){try{e.keyCode=0}catch(e){}e.returnValue=!1}else e.preventDefault()})}},{key:"render",value:function(){return r.a.createElement(zt,null)}}]),t}(r.a.Component))||vt)||vt,Ht={tableStore:ge},Wt=Object(h.c)(Et=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,Ht,r.a.createElement(m.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",component:It})))))}}]),t}(r.a.Component))||Et;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Wt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[178,1,2]]]);
//# sourceMappingURL=main.c4a9402e.chunk.js.map